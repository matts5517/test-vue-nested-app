{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","webpack:///./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js","webpack:///./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","webpack:///./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","webpack:///./node_modules/@arcgis/core/core/interatorUtils.js","webpack:///./node_modules/@arcgis/core/layers/ogc/dateUtils.js","webpack:///./node_modules/@arcgis/core/layers/ogc/xmlUtils.js","webpack:///./node_modules/@arcgis/core/layers/ogc/wfsUtils.js","webpack:///./node_modules/@arcgis/core/layers/graphics/sources/WFSSourceWorker.js","webpack:///./node_modules/@arcgis/core/chunks/_rollupPluginBabelHelpers.js","webpack:///./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js","webpack:///./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js"],"names":["d","n","minX","minY","maxX","maxY","t","i","s","search","e","this","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","_loadIndex","Array","size","forEach","clear","load","length","filter","has","get","delete","remove","set","push","o","code","description","l","error","globalId","objectId","success","uniqueId","u","a","c","f","Set","r","m","name","message","details","field","originalValue","sanitizedValue","add","editable","parseFloat","String","p","h","TypeError","simplify","async","g","y","getObjectId","getAttributes","attributes","getAttribute","cloneWithGeometry","getGeometry","geometry","getCentroid","centroid","hasZ","hasM","geometryInfo","_boundsStore","_featuresById","_markedIds","events","featureAdapter","geometryType","numFeatures","Math","min","max","coords","featureCount","vertexCount","_add","_emitChanged","_remove","invalidateIndex","forEachInBounds","emit","getLogger","feature","displayId","onFeatureAdd","onFeatureRemove","Date","getTime","Number","isNaN","exec","groups","year","month","day","hours","minutes","seconds","D","ms","T","padEnd","substring","isUTC","UTC","offsetSign","offsetHours","offsetMinutes","children","localName","S","x","v","C","E","P","N","j","R","A","k","G","U","I","responseType","query","SERVICE","REQUEST","VERSION","customParameters","signal","data","M","te","ne","ae","firstElementChild","operations","L","from","$","readFeatureTypes","O","GetCapabilities","url","DescribeFeatureType","GetFeature","outputFormat","supportsPagination","OperationsMetadata","Operation","DCP","HTTP","Get","Parameter","AllowedValues","Value","textContent","toLowerCase","Constraint","DefaultValue","FeatureTypeList","FeatureType","typeName","title","extent","namespacePrefix","namespaceUri","supportedSpatialReferences","parseInt","match","wkid","Name","prefix","re","lookupNamespaceURI","Abstract","Title","WGS84BoundingBox","V","DefaultSRS","DefaultCRS","OtherSRS","OtherCRS","split","map","xmin","ymin","xmax","ymax","spatialReference","W","X","featureType","Y","fields","swapXY","objectIdField","geometryField","q","WGS84","wfsCapabilities","next","value","H","z","errors","_","find","type","alias","unshift","Promise","all","K","count","Z","features","fromJSON","coordinates","toFixed","J","TYPENAME","element","complexType","B","document","XMLSerializer","serializeToString","Q","complexContent","extension","sequence","hasAttribute","simpleType","restriction","maxLength","nullable","replace","dateFields","JSON","parse","response","TYPENAMES","OUTPUTFORMAT","SRSNAME","STARTINDEX","startIndex","COUNT","DOMParser","parseFromString","trim","Exception","ExceptionText","w","_queryEngine","_customParameters","_snapshotFeatures","_getFeatureUrl","_featureType","_getFeatureOutputFormat","fieldsIndex","_fieldsIndex","destroy","getFeatureUrl","getFeatureOutputFormat","_checkProjection","timeInfo","featureStore","addMany","fullExtent","_waitSnapshotComplete","executeQuery","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","_snapshotTask","abort","promise","then","finished","RegExp","prototype","WeakMap","Object","keys","reduce","create","call","Symbol","arguments","slice","apply","constructor","writable","configurable","setPrototypeOf","__proto__","compareMinX","compareMinY","toBBox","_maxEntries","_minEntries","ceil","_initFormat","prune","_all","leaf","pop","insert","_build","height","_splitRoot","_insert","b","indexHint","splice","_condense","pushArray","log","sqrt","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","console","_allDistMargin","sort","Function","join","deallocator","super","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","properties","id","F","lengths","crs","test","NEGATIVE_INFINITY","maxObjectId","objectIdFieldName","objectIdFieldType","unknownFields"],"mappings":"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","file":"js/chunk-13ca7266.b6930dea.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport i from\"../../../core/has.js\";import{PooledRBush as s}from\"../../../core/libs/rbush/PooledRBush.js\";const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i,s,d){n.minX=s[0],n.minY=s[1],n.maxX=s[2],n.maxY=s[3],i.search(n,d)}class e{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new s(9,i(\"csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),t(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}export{e as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isValid as t}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{sanitizeNullFieldValue as e,validateFieldValue as n,validationErrorToString as i,isNumericField as r,isStringField as s}from\"../../../support/fieldUtils.js\";class o{constructor(){this.code=null,this.description=null}}class l{constructor(t){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function u(t){return new l(t)}class a{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function c(t){return new a(t)}const f=new Set;function d(t,e,r,s,o=!1,l){f.clear();for(const a in r){const s=t.get(a);if(!s)continue;const c=r[a],d=m(s,c);if(d!==c&&l&&l.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:s,originalValue:c,sanitizedValue:d}}),f.add(s.name),s&&(o||s.editable)){const t=n(s,d);if(t)return u(i(t,s,d));e[s.name]=d}}if(s)for(const n of s)if(!f.has(n.name))return u(`missing required field \"${n.name}\"`);return null}function m(t,n){let i=n;return\"string\"==typeof n&&r(t)?i=parseFloat(n):null!=n&&s(t)&&\"string\"!=typeof n&&(i=String(n)),e(i)}let p;function h(e,n){if(!e||!t(n))return e;if(\"rings\"in e||\"paths\"in e){if(!p)throw new TypeError(\"geometry engine not loaded\");return p.simplify(n,e)}return e}async function g(){return p||(p=await import(\"../../../../geometry/geometryEngineJSON.js\"),p)}async function y(e,n){!t(e)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await g()}export{u as createFeatureEditErrorResult,c as createFeatureEditSuccessResult,g as loadGeometryEngine,y as loadGeometryEngineForSimplify,d as mixAttributes,h as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getCentroidOptimizedGeometry as t}from\"../centroid.js\";import e from\"../OptimizedFeature.js\";import r from\"../OptimizedGeometry.js\";const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,r)=>new e(r,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(e,o)=>(e.centroid||(e.centroid=t(new r,e.geometry,o.hasZ,o.hasM)),e.centroid)};export default o;export{o as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Evented.js\";import r from\"../../../core/Logger.js\";import{isSome as s}from\"../../../core/maybe.js\";import{fromRect as o}from\"../../../geometry/support/aaBoundingBox.js\";import{create as i,NEGATIVE_INFINITY as a}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as d}from\"../featureConversionUtils.js\";import{BoundsStore as n}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";class u{constructor(e){this.geometryInfo=e,this._boundsStore=new n,this._featuresById=new Map,this._markedIds=new Set,this.events=new t,this.featureAdapter=h}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=i(a);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(o(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(t){if(!t)return;const o=t.objectId;if(null==o)return void r.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new e(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:t}));const a=this._featuresById.get(o);let n;if(this._markedIds.add(o),a?(t.displayId=a.displayId,n=this._boundsStore.get(o),this._boundsStore.delete(o)):s(this.onFeatureAdd)&&this.onFeatureAdd(t),!t.geometry||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(o,null),void this._featuresById.set(o,t);n=d(n||i(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(o,n),this._featuresById.set(o,t)}_remove(e){return s(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction n(n,o){for(const f of n)if(null!=f&&o(f))return f}export{n as find};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as n}from\"../../chunks/_rollupPluginBabelHelpers.js\";function e(n){var e;return null!=(e=t(n))?e:s(n)}function s(n){const e=new Date(n).getTime();return Number.isNaN(e)?null:e}function t(n){var e,s,t,r;const l=u.exec(n);if(!l)return null;const o=l.groups,i=+o.year,f=+o.month-1,a=+o.day,c=+(null!=(e=o.hours)?e:\"0\"),m=+(null!=(s=o.minutes)?s:\"0\"),g=+(null!=(t=o.seconds)?t:\"0\");if(c>23)return null;if(m>59)return null;if(g>59)return null;const D=null!=(r=o.ms)?r:\"0\",T=D?+D.padEnd(3,\"0\").substring(0,3):0;let d;if(o.isUTC)d=Date.UTC(i,f,a,c,m,g,T);else if(o.offsetSign){const n=+o.offsetHours,e=+o.offsetMinutes;d=6e4*(\"+\"===o.offsetSign?-1:1)*(60*n+e)+Date.UTC(i,f,a,c,m,g,T)}else d=new Date(i,f,a,c,m,g,T).getTime();return Number.isNaN(d)?null:d}const u=n(/^(?:(\\x2D?[0-9]{4,})\\x2D([0-9]{2})\\x2D([0-9]{2}))(?:T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\\.([0-9]+))?)?(?:(Z)|(?:(\\+|\\x2D)([0-9]{2}):([0-9]{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11});export{e as parseDate,s as parseJSDate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction o(n,c){for(const e of n.children)if(e.localName in c){const n=c[e.localName];if(\"function\"==typeof n){const c=n(e);c&&o(e,c)}else o(e,n)}}function*n(o,c){for(const e of o.children)if(e.localName in c){const o=c[e.localName];\"function\"==typeof o?yield o(e):yield*n(e,o)}}export{n as iterateXML,o as visitXML};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/_rollupPluginBabelHelpers.js\";import\"../../geometry.js\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import{find as n}from\"../../core/interatorUtils.js\";import{isNone as a,isSome as o}from\"../../core/maybe.js\";import{eachAlways as s}from\"../../core/promiseUtils.js\";import{isHTTPSProtocol as i,hasSameOrigin as u,toHTTPS as l}from\"../../core/urlUtils.js\";import{initializeProjection as p,project as c}from\"../../geometry/projection.js\";import{WGS84 as m,equals as y}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as f}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as d}from\"../graphics/sources/geojson/geojson.js\";import{parseDate as g}from\"./dateUtils.js\";import{iterateXML as w,visitXML as b}from\"./xmlUtils.js\";import h from\"../support/Field.js\";import T from\"../../geometry/SpatialReference.js\";import F from\"../../geometry/Extent.js\";const S=\"xlink:href\",x=\"2.0.0\",v=\"__esri_wfs_id__\",C=\"wfs-layer:getWFSLayerTypeInfo-error\",E=\"wfs-layer:empty-service\",P=\"wfs-layer:feature-type-not-found\",N=\"wfs-layer:geojson-not-supported\",j=\"wfs-layer:kvp-encoding-not-supported\",R=\"wfs-layer:malformed-json\",A=\"wfs-layer:unknown-geometry-type\",k=\"wfs-layer:unknown-field-type\",G=\"wfs-layer:unsupported-spatial-reference\",U=\"wfs-layer:unsupported-wfs-version\";async function D(e,r){const n=I((await t(e,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:x,...null==r?void 0:r.customParameters},signal:null==r?void 0:r.signal})).data);return M(e,n),n}function I(e){const t=te(e);ne(t),ae(t);const r=t.firstElementChild,n=new Map;return{operations:L(r),get featureTypes(){return Array.from($(r,n))},readFeatureTypes:()=>$(r,n)}}const O=new Set([\"json\",\"application/json\",\"geojson\",\"application/json; subtype=geojson\"]);function L(e){let t=!1;const n={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}};if(b(e,{OperationsMetadata:{Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(S)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(S)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(S)}}},Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:e=>{const t=e.textContent;O.has(t.toLowerCase())&&(n.GetFeature.outputFormat=t)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{t=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{n.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),!t)throw new r(j,\"WFS service doesn't support key/value pair (KVP) encoding\");if(a(n.GetFeature.outputFormat))throw new r(N,\"WFS service doesn't support GeoJSON output format\");return n}function M(e,t){i(e)&&(u(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=l(t.operations.DescribeFeatureType.url)),u(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=l(t.operations.GetFeature.url)))}function $(t,r){return w(t,{FeatureTypeList:{FeatureType:t=>{if(r.has(t))return r.get(t);const n={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",supportedSpatialReferences:[]},a=new Set([4326]),o=t=>{var r,n;const o=parseInt(null==(r=t.textContent.match(e(/([0-9]+$)/i,{wkid:1})))||null==(n=r.groups)?void 0:n.wkid,10);Number.isNaN(o)||a.add(o)};return b(t,{Name:e=>{const{name:t,prefix:r}=re(e.textContent);n.typeName=`${r}:${t}`,n.name=t,n.namespacePrefix=r,n.namespaceUri=e.lookupNamespaceURI(r)},Abstract:e=>{n.description=e.textContent},Title:e=>{n.title=e.textContent},WGS84BoundingBox:e=>{n.extent=V(e)},DefaultSRS:o,DefaultCRS:o,OtherSRS:o,OtherCRS:o}),n.title||(n.title=n.name),n.supportedSpatialReferences.push(...a),r.set(t,n),n}}})}function V(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:m}}function W(e,t,r){return n(e,(e=>r?e.name===t&&e.namespaceUri===r:e.typeName===t||e.name===t))}async function X(e,t,r,n={}){var a;const{featureType:o,extent:s}=await Y(e,t,r,n),{fields:i,geometryType:u,swapXY:l,objectIdField:p,geometryField:c}=await q(e,o.typeName,n);return{url:e.operations.GetCapabilities.url,name:o.name,namespaceUri:o.namespaceUri,fields:i,geometryField:c,geometryType:u,objectIdField:p,spatialReference:null!=(a=n.spatialReference)?a:T.WGS84,extent:s,swapXY:l,wfsCapabilities:e,customParameters:n.customParameters}}async function Y(e,t,n,o={}){const{spatialReference:s=T.WGS84}=o,i=e.readFeatureTypes(),u=t?W(i,t,n):i.next().value;if(a(u))throw t?new r(P,`The type '${t}' could not be found in the service`):new r(E,\"The service is empty\");let l=new F({...u.extent,spatialReference:s});if(!y(s,m))try{await p(m,s,void 0,o),l=c(l,m)}catch{throw new r(G,\"Projection not supported\")}return{extent:l,spatialReference:s,featureType:u}}async function q(e,t,n={}){const[o,i]=await s([H(e.operations.DescribeFeatureType.url,t,n),z(e,t,n)]);if(o.error||i.error)throw new r(C,`An error occurred while getting info about the feature type '${t}'`,{error:o.error||i.error});const{fields:u,errors:l}=o.value,p=o.value.geometryType||i.value.geometryType,c=i.value.swapXY;if(a(p))throw new r(A,`The geometry type could not be determined for type '${t}`,{typeName:t,geometryType:p,fields:u,errors:l});return{..._(u),geometryType:p,swapXY:c}}function _(e){var t;const r=e.find((e=>\"geometry\"===e.type));let n=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),n||(n=new h({name:v,type:\"oid\",alias:v}),e.unshift(n)),{geometryField:null!=(t=null==r?void 0:r.name)?t:null,objectIdField:n.name,fields:e}}async function z(e,r,n={}){var a;let o,s=!1;const[i,u]=await Promise.all([K(e.operations.GetFeature.url,r,e.operations.GetFeature.outputFormat,{...n,count:1}),t(e.operations.GetFeature.url,{responseType:\"text\",query:Z(r,void 0,{...n,count:1}),signal:null==n?void 0:n.signal})]),l=\"FeatureCollection\"===i.type&&(null==(a=i.features[0])?void 0:a.geometry);if(l){let e;switch(o=f.fromJSON(d(l.type)),l.type){case\"Point\":e=l.coordinates;break;case\"LineString\":case\"MultiPoint\":e=l.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=l.coordinates[0][0];break;case\"MultiPolygon\":e=l.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(u.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(s=!0)}}return{geometryType:o,swapXY:s}}async function H(e,r,n){return J(r,(await t(e,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:x,TYPENAME:r,...null==n?void 0:n.customParameters},signal:null==n?void 0:n.signal})).data)}function J(e,t){const{name:a}=re(e),s=te(t);ae(s);const i=n(w(s.firstElementChild,{element:e=>({name:e.getAttribute(\"name\"),typeName:re(e.getAttribute(\"type\")).name})}),(({name:e})=>e===a));if(o(i)){const e=n(w(s.firstElementChild,{complexType:e=>e}),(e=>e.getAttribute(\"name\")===i.typeName));if(o(e))return B(e)}throw new r(P,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(s)})}const Q=new Set([\"objectid\",\"fid\"]);function B(e){var t,n;const a=[],o=[];let s;const i=w(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const u of i){const i=u.getAttribute(\"name\");if(!i)continue;let l,p;if(u.hasAttribute(\"type\")?l=re(u.getAttribute(\"type\")).name:b(u,{simpleType:{restriction:e=>(l=re(e.getAttribute(\"base\")).name,{maxLength:e=>{p=+e.getAttribute(\"value\")}})}}),!l)continue;const c=\"true\"===u.getAttribute(\"nillable\");let m=!1;switch(l.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":o.push(new h({name:i,alias:i,type:\"integer\",nullable:c}));break;case\"float\":case\"double\":case\"decimal\":o.push(new h({name:i,alias:i,type:\"double\",nullable:c}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":o.push(new h({name:i,alias:i,type:\"string\",nullable:c,length:null!=(t=p)?t:255}));break;case\"datetime\":case\"date\":o.push(new h({name:i,alias:i,type:\"date\",nullable:c,length:null!=(n=p)?n:36}));break;case\"pointpropertytype\":s=\"point\",m=!0;break;case\"multipointpropertytype\":s=\"multipoint\",m=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":s=\"polyline\",m=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":s=\"polygon\",m=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":m=!0,a.push(new r(A,`geometry type '${l}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:a.push(new r(k,`Unknown field type '${l}'`,{type:(new XMLSerializer).serializeToString(e)}))}m&&o.push(new h({name:i,alias:i,type:\"geometry\",nullable:c}))}for(const r of o)if(\"integer\"===r.type&&!r.nullable&&Q.has(r.name.toLowerCase())){r.type=\"oid\";break}return{geometryType:s,fields:o,errors:a}}async function K(e,n,a,o){let{data:s}=await t(e,{responseType:\"text\",query:Z(n,a,o),signal:null==o?void 0:o.signal});s=s.replace(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{var i;if(null!=o&&null!=(i=o.dateFields)&&i.length){const e=new Set(o.dateFields);return JSON.parse(s,((t,r)=>e.has(t)?g(r):r))}return JSON.parse(s)}catch(u){throw new r(R,\"Error while parsing the response\",{response:s,error:u})}}function Z(e,t,r){return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:\"EPSG:4326\",STARTINDEX:null==r?void 0:r.startIndex,COUNT:null==r?void 0:r.count,...null==r?void 0:r.customParameters}}async function ee(e,r,n){const a=te((await t(e,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:r,RESULTTYPE:\"hits\",...null==n?void 0:n.customParameters},signal:null==n?void 0:n.signal})).data);ae(a);const o=Number.parseFloat(a.firstElementChild.getAttribute(\"numberMatched\"));return Number.isNaN(o)?0:o}function te(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function re(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:null!=r?r:t}}function ne(e){const t=e.firstElementChild.getAttribute(\"version\");if(t&&t!==x)throw new r(U,`Unsupported WFS version ${t}. Supported version: ${x}`)}function ae(e){let t,n;if(b(e.firstElementChild,{Exception:e=>(t=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),t)throw new r(`wfs-layer:${t}`,n)}export{v as WFS_OID_FIELD_NAME,H as describeFeatureType,W as findFeatureType,D as getCapabilities,K as getFeature,ee as getFeatureCount,Y as getFeatureTypeInfo,X as getWFSLayerInfo,J as parseDescribeFeatureTypeResponse,I as parseGetCapabilitiesResponse,_ as prepareWFSLayerFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Logger.js\";import{unwrap as r}from\"../../../core/maybe.js\";import{throwIfAborted as s,createTask as a,isAbortError as i}from\"../../../core/promiseUtils.js\";import{equals as n,WGS84 as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as u,convertToGeometry as p}from\"../featureConversionUtils.js\";import h from\"../data/FeatureStore.js\";import{project as y,checkProjectionSupport as l}from\"../data/projectionSupport.js\";import m from\"../data/QueryEngine.js\";import{validateGeoJSON as c,createOptimizedFeatures as g}from\"./geojson/geojson.js\";import{mixAttributes as _}from\"./support/sourceUtils.js\";import{getFeature as f}from\"../../ogc/wfsUtils.js\";import d from\"../../support/FieldsIndex.js\";class w{constructor(){this._queryEngine=null,this._customParameters=null,this._snapshotFeatures=async e=>{const{objectIdField:t}=this._queryEngine,r=await f(this._getFeatureUrl,this._featureType.typeName,this._getFeatureOutputFormat,{customParameters:this._customParameters,dateFields:this._queryEngine.fieldsIndex.dateFields.map((e=>e.name)),signal:e});await c(r),s(e);const a=g(r,{geometryType:this._queryEngine.geometryType,hasZ:!1,objectIdField:t});if(!n(this._queryEngine.spatialReference,o))for(const s of a)s.geometry&&(s.geometry=u(y(p(s.geometry,this._queryEngine.geometryType,!1,!1),o,this._queryEngine.spatialReference)));let i=1;for(const s of a){const e={};_(this._fieldsIndex,e,s.attributes,null,!0),s.attributes=e,null==s.attributes[t]&&(s.objectId=s.attributes[t]=i++)}return a}}destroy(){var e;null==(e=this._queryEngine)||e.destroy(),this._queryEngine=null}async load(e,t){const{getFeatureUrl:a,getFeatureOutputFormat:i,spatialReference:n,fields:o,geometryType:u,featureType:p,objectIdField:y,customParameters:l}=e;this._featureType=p,this._customParameters=l,this._getFeatureUrl=a,this._getFeatureOutputFormat=i,this._fieldsIndex=new d(o),await this._checkProjection(n),s(t),this._queryEngine=new m({fields:o,geometryType:u,hasM:!1,hasZ:!1,objectIdField:y,spatialReference:n,timeInfo:null,featureStore:new h({geometryType:u,hasM:!1,hasZ:!1})});const c=await this._snapshotFeatures(r(t.signal));return this._queryEngine.featureStore.addMany(c),{extent:this._queryEngine.fullExtent}}async applyEdits(){throw new e(\"wfs-source:editing-not-supported\",\"applyEdits() is not supported on WFSLayer\")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}setCustomParameters(e){this._customParameters=e}async refresh(){var r;return null==(r=this._snapshotTask)||r.abort(),this._snapshotTask=a(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),e&&this._queryEngine.featureStore.addMany(e)}),(r=>{this._queryEngine.featureStore.clear(),i(r)||t.getLogger(\"esri.layers.WFSLayer\").error(new e(\"wfs-layer:getfeature-error\",\"An error occurred during the GetFeature request\",{error:r}))})),await this._waitSnapshotComplete(),{extent:this._queryEngine.fullExtent}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _checkProjection(t){try{await l(o,t)}catch{throw new e(\"unsupported-projection\",\"Projection not supported\",{spatialReference:t})}}}export default w;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(){t=function(t,e){return new c(t,void 0,e)};var n=RegExp.prototype,o=new WeakMap;function c(t,e,n){var u=new RegExp(t,e);return o.set(u,n||o.get(t)),r(u,c.prototype)}function u(t,e){var r=o.get(e);return Object.keys(r).reduce((function(e,n){return e[n]=t[r[n]],e}),Object.create(null))}return e(c,RegExp),c.prototype.exec=function(t){var e=n.exec.call(this,t);return e&&(e.groups=u(e,this)),e},c.prototype[Symbol.replace]=function(t,e){if(\"string\"==typeof e){var r=o.get(this);return n[Symbol.replace].call(this,t,e.replace(/\\$<([^>]+)>/g,(function(t,e){return\"$\"+r[e]})))}if(\"function\"==typeof e){var c=this;return n[Symbol.replace].call(this,t,(function(){var t=arguments;return\"object\"!=typeof t[t.length-1]&&(t=[].slice.call(t)).push(u(t,c)),e.apply(this,t)}))}return n[Symbol.replace].call(this,t,e)},t.apply(this,arguments)}function e(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}export{t as _};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{indexOf as t,PositionHint as i}from\"../../arrayUtils.js\";import{assumeNonNull as n}from\"../../maybe.js\";import e from\"../../PooledArray.js\";import{q as s}from\"../../../chunks/quickselect.js\";class h{constructor(t=9,i){this.compareMinX=l,this.compareMinY=c,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&(\"function\"==typeof i?this.toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),M.prune(),X.prune(),Y.prune(),B.prune()}all(t){this._all(this.data,t)}search(t,i){let n=this.data;const e=this.toBBox;if(p(t,n))for(M.clear();n;){for(let s=0,h=n.children.length;s<h;s++){const h=n.children[s],a=n.leaf?e(h):h;p(t,a)&&(n.leaf?i(h):x(t,a)?this._all(h,i):M.push(h))}n=M.pop()}}collides(t){let i=this.data;const n=this.toBBox;if(!p(t,i))return!1;for(M.clear();i;){for(let e=0,s=i.children.length;e<s;e++){const s=i.children[e],h=i.leaf?n(s):s;if(p(t,h)){if(i.leaf||x(t,h))return!0;M.push(s)}}i=M.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const t=this.data;this.data=i,i=t}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new b([]),this}remove(i){if(!i)return this;let e,s=this.data,h=null,a=0,r=!1;const o=this.toBBox(i);for(Y.clear(),B.clear();s||Y.length>0;){var l;if(!s)s=n(Y.pop()),h=Y.data[Y.length-1],a=null!=(l=B.pop())?l:0,r=!0;if(s.leaf&&(e=t(s.children,i,s.children.length,s.indexHint),-1!==e))return s.children.splice(e,1),Y.push(s),this._condense(Y),this;r||s.leaf||!x(s,o)?h?(a++,s=h.children[a],r=!1):s=null:(Y.push(s),B.push(a),a=0,h=s,s=s.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){let n=t;for(X.clear();n;){var e;if(!0===n.leaf)for(const t of n.children)i(t);else X.pushArray(n.children);n=null!=(e=X.pop())?e:null}}_build(t,i,n,e){const s=n-i+1;let h=this._maxEntries;if(s<=h){const e=new b(t.slice(i,n+1));return a(e,this.toBBox),e}e||(e=Math.ceil(Math.log(s)/Math.log(h)),h=Math.ceil(s/h**(e-1)));const r=new j([]);r.height=e;const o=Math.ceil(s/h),l=o*Math.ceil(Math.sqrt(h));g(t,i,n,l,this.compareMinX);for(let a=i;a<=n;a+=l){const i=Math.min(a+l-1,n);g(t,a,i,o,this.compareMinY);for(let n=a;n<=i;n+=o){const s=Math.min(n+o-1,i);r.children.push(this._build(t,n,s,e-1))}}return a(r,this.toBBox),r}_chooseSubtree(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,s=1/0;for(let h=0,a=i.children.length;h<a;h++){const a=i.children[h],r=m(a),o=d(t,a)-r;o<s?(s=o,e=r<e?r:e,n=a):o===s&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}_insert(t,i,n){const e=this.toBBox,s=n?t:e(t);Y.clear();const h=this._chooseSubtree(s,this.data,i,Y);for(h.children.push(t),o(h,s);i>=0&&Y.data[i].children.length>this._maxEntries;)this._split(Y,i),i--;this._adjustParentBBoxes(s,Y,i)}_split(t,i){const n=t.data[i],e=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,e);const h=this._chooseSplitIndex(n,s,e);if(!h)return void console.log(\"  Error: assertion failed at PooledRBush._split: no valid split index\");const r=n.children.splice(h,n.children.length-h),o=n.leaf?new b(r):new j(r);o.height=n.height,a(n,this.toBBox),a(o,this.toBBox),i?t.data[i-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,i){this.data=new j([t,i]),this.data.height=t.height+1,a(this.data,this.toBBox)}_chooseSplitIndex(t,i,n){let e,s,h;e=s=1/0;for(let a=i;a<=n-i;a++){const i=r(t,0,a,this.toBBox),o=r(t,a,n,this.toBBox),l=f(i,o),c=m(i)+m(o);l<e?(e=l,h=a,s=c<s?c:s):l===e&&c<s&&(s=c,h=a)}return h}_chooseSplitAxis(t,i,n){const e=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:c;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,s)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const s=this.toBBox,h=r(t,0,i,s),a=r(t,n-i,n,s);let l=u(h)+u(a);for(let r=i;r<n-i;r++){const i=t.children[r];o(h,t.leaf?s(i):i),l+=u(h)}for(let r=n-i-1;r>=i;r--){const i=t.children[r];o(a,t.leaf?s(i):i),l+=u(a)}return l}_adjustParentBBoxes(t,i,n){for(let e=n;e>=0;e--)o(i.data[e],t)}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const s=i.data[n-1],h=s.children;h.splice(t(h,e,h.length,s.indexHint),1)}else this.clear();else a(e,this.toBBox)}}_initFormat(t){const i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}function a(t,i){r(t,0,t.children.length,i,t)}function r(t,i,n,e,s){s||(s=new b([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let h,a=i;a<n;a++)h=t.children[a],o(s,t.leaf?e(h):h);return s}function o(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function f(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),s=Math.min(t.maxX,i.maxX),h=Math.min(t.maxY,i.maxY);return Math.max(0,s-n)*Math.max(0,h-e)}function x(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function p(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function g(t,i,e,h,a){const r=[i,e];for(;r.length;){const i=n(r.pop()),e=n(r.pop());if(i-e<=h)continue;const o=e+Math.ceil((i-e)/h/2)*h;s(t,o,e,i,a),r.push(e,o,o,i)}}const M=new e,X=new e,Y=new e,B=new e({deallocator:void 0});class _{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends _{constructor(){super(...arguments),this.height=1,this.indexHint=new i}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class j extends w{constructor(t){super(),this.children=t,this.leaf=!1}}export default h;export{_ as BBox,h as PooledRBush};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";const o={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function r(e){return o[e]}function*i(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*s(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*c(e,o={}){const{geometryType:i,objectIdField:s}=o;for(const u of e){var c;const{geometry:e,properties:l,id:f}=u;if(e&&r(e.type)!==i)continue;const a=l||{};let y=null!=(c=a[s])?c:null;s&&null!=f&&!a[s]&&(a[s]=y=f);const d=new t(e?p(new n,e,o):null,a,null,y);yield d}}function u(e){for(const t of e)if(t.length>2)return!0;return!1}function l(e){return!a(e)}function f(e){return a(e)}function a(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function y(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function p(e,t,n){switch(t.type){case\"LineString\":return d(e,t,n);case\"MultiLineString\":return g(e,t,n);case\"MultiPoint\":return m(e,t,n);case\"MultiPolygon\":return h(e,t,n);case\"Point\":return w(e,t,n);case\"Polygon\":return P(e,t,n)}}function d(e,t,n){return S(e,t.coordinates,n),e}function g(e,t,n){for(const o of t.coordinates)S(e,o,n);return e}function m(e,t,n){return S(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates){b(e,o[0],n);for(let t=1;t<o.length;t++)j(e,o[t],n)}return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){const o=t.coordinates;b(e,o[0],n);for(let r=1;r<o.length;r++)j(e,o[r],n);return e}function b(e,t,n){const o=y(t);l(o)?F(e,o,n):S(e,o,n)}function j(e,t,n){const o=y(t);f(o)?F(e,o,n):S(e,o,n)}function S(e,t,n){for(const o of t)G(e,o,n);e.lengths.push(t.length)}function F(e,t,n){for(let o=t.length-1;o>=0;o--)G(e,t[o],n);e.lengths.push(t.length)}function G(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function M(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function I(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function T(e,t={}){const n=[],o=new Set,c=new Set;let l,f=!1,a=Number.NEGATIVE_INFINITY,y=null,p=!1,{geometryType:d=null}=t,g=!1;for(const h of i(e)){const{geometry:e,properties:t,id:i}=h;if(!e||(d||(d=r(e.type)),r(e.type)===d)){if(!f){f=u(s(e))}if(p||(p=null!=i,p&&(l=typeof i,\"number\"===l&&(y=Object.keys(t).filter((e=>t[e]===i))))),p&&\"number\"===l&&null!=i&&(a=Math.max(a,i),y.length>1?y=y.filter((e=>t[e]===i)):1===y.length&&(y=t[y[0]]===i?y:[])),!g&&t){let e=!0;for(const r in t){if(o.has(r))continue;const i=t[r];if(null==i){e=!1,c.add(r);continue}const s=M(i);\"unknown\"!==s?(c.delete(r),o.add(r),n.push({name:r,alias:r,type:s})):c.add(r)}g=e}}}const m=y&&1===y.length&&y[0]||null;if(m)for(const r of n)r.name===m&&(r.type=\"esriFieldTypeOID\");return{fields:n,geometryType:d,hasZ:f,maxObjectId:Math.max(0,a),objectIdFieldName:m,objectIdFieldType:l,unknownFields:Array.from(c)}}function k(e,t){return Array.from(c(i(e),t))}export{k as createOptimizedFeatures,r as getGeometryType,T as inferLayerProperties,I as validateGeoJSON};\n"],"sourceRoot":""}