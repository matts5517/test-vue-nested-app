{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/webgl/ShaderCompiler.js","webpack:///./node_modules/@arcgis/core/views/webgl/ProgramCache.js","webpack:///./node_modules/@arcgis/core/views/webgl/Texture.js","webpack:///./node_modules/@arcgis/core/views/webgl.js","webpack:///./node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js","webpack:///./node_modules/@arcgis/core/views/webgl/enums.js","webpack:///./node_modules/@arcgis/core/views/webgl/programUtils.js"],"names":["e","this","readFile","resolve","t","Map","has","get","r","read","Error","s","n","exec","l","push","path","start","index","length","a","h","forEach","slice","set","_programCacheByTemplate","_rctx","programs","dispose","addProgramTemplate","getProgramTemplateInstance","constructor","JSON","stringify","_context","type","_glName","_descriptor","_samplingModeDirty","_wrapModeDirty","instanceCounter","increment","Texture","target","samplingMode","wrapMode","flipped","hasMipmap","isOpaque","unpackAlignment","preMultiplyAlpha","setData","gl","unbindTextureAllUnits","deleteTexture","decrement","i","width","height","createTexture","bindTexture","TEXTURE_UNIT_FOR_UPDATES","p","_validateTexture","pixelStorei","UNPACK_ALIGNMENT","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","pixelFormat","internalFormat","ImageData","HTMLImageElement","HTMLCanvasElement","HTMLVideoElement","videoWidth","videoHeight","texImage2D","TEXTURE_2D","dataType","generateMipmap","console","error","DEPTH24_STENCIL8","DEPTH_STENCIL","o","Math","round","log","max","LN2","levels","min","compressedTexImage2D","_applySamplingMode","_applyWrapMode","_applyAnisotropicFilteringParameters","texSubImage2D","texParameteri","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","capabilities","textureFilterAnisotropic","texParameterf","TEXTURE_MAX_ANISOTROPY","maxAnisotropy","window","WebGL2RenderingContext","Buffer","VAO","Program","Framebuffer","Renderbuffer","COUNT","toFixed","options","value","f","shaders","vertexShader","fragmentShader","attributes"],"mappings":"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","file":"js/chunk-843c64d4.22cef6f0.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.readFile=e}resolveIncludes(e){return this.resolve(e)}resolve(e,t=new Map){if(t.has(e))return t.get(e);const r=this.read(e);if(!r)throw new Error(`cannot find shader file ${e}`);const s=/^[^\\S\\n]*#include\\s+<(\\S+)>[^\\S\\n]?/gm;let n=s.exec(r);const l=[];for(;null!=n;)l.push({path:n[1],start:n.index,length:n[0].length}),n=s.exec(r);let a=0,h=\"\";return l.forEach((e=>{h+=r.slice(a,e.start),h+=t.has(e.path)?\"\":this.resolve(e.path,t),a=e.start+e.length})),h+=r.slice(a),t.set(e,h),h}read(e){return this.readFile(e)}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{createProgram as r}from\"./programUtils.js\";class t{constructor(r){this._programCacheByTemplate=new Map,this._rctx=r}dispose(){this._programCacheByTemplate.forEach((r=>r.programs.forEach((r=>r.dispose())))),this._programCacheByTemplate=null}getProgram(t,a){return this._programCacheByTemplate.has(t)||this.addProgramTemplate(t,(a=>r(this._rctx,t,a))),this.getProgramTemplateInstance(t,a)}addProgramTemplate(r,t){this._programCacheByTemplate.set(r,{constructor:t,programs:new Map})}getProgramTemplateInstance(r,t){const a=this._programCacheByTemplate.get(r);if(a){const r=t?JSON.stringify(t):\"default\";if(!a.programs.has(r)){const e=a.constructor(t);a.programs.set(r,e)}return a.programs.get(r)}return null}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isPowerOfTwo as t}from\"../../core/mathUtils.js\";import{isSome as e}from\"../../core/maybe.js\";import{ResourceType as i}from\"./enums.js\";import a from\"./capabilities/isWebGL2Context.js\";const s=4;class r{constructor(t,e,a=null){this._context=t,this.type=\"texture\",this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,t.instanceCounter.increment(i.Texture,this),this._descriptor={target:3553,samplingMode:9729,wrapMode:10497,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1,...e},this.setData(a)}get glName(){return this._glName}get descriptor(){return this._descriptor}dispose(){this._context.gl&&this._glName&&(this._context.unbindTextureAllUnits(this),this._context.gl.deleteTexture(this._glName),this._glName=null,this._context.instanceCounter.decrement(i.Texture,this))}release(){this.dispose()}resize(t,e){const i=this._descriptor;i.width===t&&i.height===e||(i.width=t,i.height=e,this.setData(null))}setData(t){if(!this._context||!this._context.gl)return;const i=this._context.gl;this._glName||(this._glName=i.createTexture()),void 0===t&&(t=null),null===t&&(this._descriptor.width=this._descriptor.width||s,this._descriptor.height=this._descriptor.height||s);const a=this._context.bindTexture(this,r.TEXTURE_UNIT_FOR_UPDATES),p=this._descriptor;r._validateTexture(this._context,p),i.pixelStorei(i.UNPACK_ALIGNMENT,p.unpackAlignment),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,p.flipped?1:0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.preMultiplyAlpha?1:0);const n=p.pixelFormat;let h=p.internalFormat?p.internalFormat:n;if(t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement){let e=t.width,a=t.height;t instanceof HTMLVideoElement&&(e=t.videoWidth,a=t.videoHeight),p.width&&p.height,i.texImage2D(i.TEXTURE_2D,0,h,n,p.dataType,t),p.hasMipmap&&this.generateMipmap(),void 0===p.width&&(p.width=e),void 0===p.height&&(p.height=a)}else{null!=p.width&&null!=p.height||console.error(\"Width and height must be specified!\"),i.DEPTH24_STENCIL8&&h===i.DEPTH_STENCIL&&(h=i.DEPTH24_STENCIL8);let a=p.width,s=p.height;if(o(t)){const e=Math.round(Math.log(Math.max(a,s))/Math.LN2)+1;p.hasMipmap=p.hasMipmap&&e===t.levels.length;for(let r=0;;++r){const e=t.levels[Math.min(r,t.levels.length-1)];if(i.compressedTexImage2D(i.TEXTURE_2D,r,h,a,s,0,e),1===a&&1===s||!p.hasMipmap)break;a=Math.max(1,a>>1),s=Math.max(1,s>>1)}}else if(e(t))i.texImage2D(i.TEXTURE_2D,0,h,a,s,0,n,p.dataType,t),p.hasMipmap&&this.generateMipmap();else for(let t=0;i.texImage2D(i.TEXTURE_2D,t,h,a,s,0,n,p.dataType,null),(1!==a||1!==s)&&p.hasMipmap;++t)a=Math.max(1,a>>1),s=Math.max(1,s>>1)}r._applySamplingMode(i,this._descriptor),r._applyWrapMode(i,this._descriptor),r._applyAnisotropicFilteringParameters(this._context,this._descriptor),this._context.bindTexture(a,r.TEXTURE_UNIT_FOR_UPDATES)}updateData(t,e,i,a,s,o){o||console.error(\"An attempt to use uninitialized data!\"),this._glName||console.error(\"An attempt to update uninitialized texture!\");const p=this._context.gl,n=this._descriptor,h=this._context.bindTexture(this,r.TEXTURE_UNIT_FOR_UPDATES);(e<0||i<0||a>n.width||s>n.height||e+a>n.width||i+s>n.height)&&console.error(\"An attempt to update out of bounds of the texture!\"),p.pixelStorei(p.UNPACK_ALIGNMENT,n.unpackAlignment),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,n.flipped?1:0),p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.preMultiplyAlpha?1:0),o instanceof ImageData||o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement?p.texSubImage2D(p.TEXTURE_2D,t,e,i,n.pixelFormat,n.dataType,o):p.texSubImage2D(p.TEXTURE_2D,t,e,i,a,s,n.pixelFormat,n.dataType,o),this._context.bindTexture(h,r.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;t.hasMipmap||(t.hasMipmap=!0,this._samplingModeDirty=!0,r._validateTexture(this._context,t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);const e=this._context.bindTexture(this,r.TEXTURE_UNIT_FOR_UPDATES),i=this._context.gl;i.generateMipmap(i.TEXTURE_2D),this._context.bindTexture(e,r.TEXTURE_UNIT_FOR_UPDATES)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,r._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0)}applyChanges(){const t=this._context.gl,e=this._descriptor;this._samplingModeDirty&&(r._applySamplingMode(t,e),this._samplingModeDirty=!1),this._wrapModeDirty&&(r._applyWrapMode(t,e),this._wrapModeDirty=!1)}static _validateTexture(e,i){(i.width<0||i.height<0)&&console.error(\"Negative dimension parameters are not allowed!\");const s=t(i.width)&&t(i.height);a(e.gl)||s||(\"number\"==typeof i.wrapMode?33071!==i.wrapMode&&console.error(\"Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!\"):33071===i.wrapMode.s&&33071===i.wrapMode.t||console.error(\"Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!\"),i.hasMipmap&&console.error(\"Mipmapping requires power-of-two textures!\"))}static _applySamplingMode(t,e){let i=e.samplingMode,a=e.samplingMode;9985===i||9987===i?(i=9729,e.hasMipmap||(a=9729)):9984!==i&&9986!==i||(i=9728,e.hasMipmap||(a=9728)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a)}static _applyWrapMode(t,e){\"number\"==typeof e.wrapMode?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,e.wrapMode.t))}static _applyAnisotropicFilteringParameters(t,e){var i;const a=t.capabilities.textureFilterAnisotropic;if(!a)return;const s=t.gl;s.texParameterf(s.TEXTURE_2D,a.TEXTURE_MAX_ANISOTROPY,null!=(i=e.maxAnisotropy)?i:1)}}function o(t){return e(t)&&\"type\"in t&&\"compressed\"===t.type}r.TEXTURE_UNIT_FOR_UPDATES=0;export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nexport{default as BufferObject}from\"./webgl/BufferObject.js\";export{default as FramebufferObject}from\"./webgl/FramebufferObject.js\";export{Program}from\"./webgl/Program.js\";export{default as ProgramCache}from\"./webgl/ProgramCache.js\";export{default as Renderbuffer}from\"./webgl/Renderbuffer.js\";export{default as RenderingContext}from\"./webgl/RenderingContext.js\";export{default as ShaderCompiler}from\"./webgl/ShaderCompiler.js\";export{default as Texture}from\"./webgl/Texture.js\";export{default as VertexArrayObject}from\"./webgl/VertexArrayObject.js\";export{createProgram,glslifyDefineMap}from\"./webgl/programUtils.js\";export{createContextOrErrorHTML}from\"./webgl/context-util.js\";\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction n(n){return window.WebGL2RenderingContext&&n instanceof window.WebGL2RenderingContext}export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst r=33984;var e;!function(r){r[r.Texture=0]=\"Texture\",r[r.Buffer=1]=\"Buffer\",r[r.VAO=2]=\"VAO\",r[r.Program=3]=\"Program\",r[r.Framebuffer=4]=\"Framebuffer\",r[r.Renderbuffer=5]=\"Renderbuffer\",r[r.COUNT=6]=\"COUNT\"}(e||(e={}));const f=33306;export{r as BASE_TEXTURE_UNIT,f as DepthStencilAttachment,e as ResourceType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{Program as e}from\"./Program.js\";function n(e){let n=\"\";for(const t in e){const o=e[t];if(\"boolean\"==typeof o)o&&(n+=`#define ${t}\\n`);else if(\"number\"==typeof o)n+=`#define ${t} ${o.toFixed()}\\n`;else if(\"object\"==typeof o){const e=o.options;let r=0;for(const t in e)n+=`#define ${e[t]} ${(r++).toFixed()}\\n`;n+=`#define ${t} ${e[o.value]}\\n`}}return n}function t(n,t,o,r){o=o||{},r=r||\"\";const f=\"function\"==typeof t.shaders?t.shaders(o):t.shaders;return new e(n,r+f.vertexShader,r+f.fragmentShader,t.attributes)}export{t as createProgram,n as glslifyDefineMap};\n"],"sourceRoot":""}